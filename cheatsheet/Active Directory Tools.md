# Active Directory Tools

| 도구                                                                                                                                            | 설명                                                                                                                                                                                                                                                                                                                                                                |
| --------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [PowerView](https://github.com/PowerShellMafia/PowerSploit/blob/master/Recon/PowerView.ps1)/[SharpView](https://github.com/dmchell/SharpView) | AD에서 상황 인식을 얻는 데 사용되는 PowerShell 도구와 동일한 .NET 포트. 이러한 도구는 다양한 Windows `net*`명령 등을 대체하는 데 사용할 수 있습니다. PowerView와 SharpView는 BloodHound가 수행하는 많은 데이터를 수집하는 데 도움이 되지만 모든 데이터 포인트 간에 의미 있는 관계를 만들려면 더 많은 작업이 필요합니다. 이러한 도구는 새로운 자격 증명 집합으로 어떤 추가 액세스 권한이 있는지 확인하고, 특정 사용자나 컴퓨터를 타겟팅하거나, Kerberoasting 또는 ASREPRoasting을 통해 공격할 수 있는 사용자와 같은 "quick wins"를 찾는 데 유용합니다. |
| [BloodHound](https://github.com/BloodHoundAD/BloodHound)                                                                                      | AD 관계를 시각적으로 매핑하고 그렇지 않으면 알아차리지 못할 수 있는 공격 경로를 계획하는 데 사용됩니다. [SharpHound](https://github.com/BloodHoundAD/BloodHound/tree/master/Collectors) PowerShell 또는 C# 수집기를 사용하여 나중에 AD 환경의 그래픽 분석을 위해 [Neo4j](https://neo4j.com/) 데이터베이스 와 함께 BloodHound JavaScript(Electron) 애플리케이션으로 가져올 데이터를 수집합니다 .                                                                   |
| [SharpHound](https://github.com/BloodHoundAD/BloodHound/tree/master/Collectors)                                                               | C# 데이터 수집기는 사용자, 그룹, 컴퓨터, ACL, GPO, 사용자 및 컴퓨터 속성, 사용자 세션 등과 같은 다양한 AD 개체에 대한 정보를 Active Directory에서 수집합니다. 이 도구는 JSON 파일을 생성하여 BloodHound GUI 도구에 수집하여 분석할 수 있습니다.                                                                                                                                                                                                |
| [BloodHound.py](https://github.com/fox-it/BloodHound.py)                                                                                      | [Impacket 툴킷을](https://github.com/CoreSecurity/impacket/) 기반으로 하는 Python 기반 BloodHound 수집기입니다 . 대부분의 BloodHound 수집 방법을 지원하며 도메인에 가입되지 않은 공격 호스트에서 실행할 수 있습니다. 출력을 BloodHound GUI로 수집하여 분석할 수 있습니다.                                                                                                                                                                |
| [Kerbrute](https://github.com/ropnop/kerbrute)                                                                                                | Go로 작성된 도구로, Kerberos 사전 인증을 사용하여 Active Directory 계정을 열거하고, 비밀번호 스프레이 및 무차별 대입 공격을 수행합니다.                                                                                                                                                                                                                                                                        |
| [Impacket toolkit](https://github.com/SecureAuthCorp/impacket)                                                                                | 네트워크 프로토콜과 상호 작용하기 위해 Python으로 작성된 도구 모음입니다. 도구 모음에는 Active Directory를 열거하고 공격하기 위한 다양한 스크립트가 포함되어 있습니다.                                                                                                                                                                                                                                                          |
| [Responder](https://github.com/lgandx/Responder)                                                                                              | Responder는 LLMNR, NBT-NS, MDNS를 감염시키기 위해 특별히 제작된 도구로 다양한 기능을 갖추고 있습니다.                                                                                                                                                                                                                                                                                            |
| [Inveigh.ps1](https://github.com/Kevin-Robertson/Inveigh/blob/master/Inveigh.ps1)                                                             | Responder와 비슷한 PowerShell 도구로, 다양한 네트워크 스푸핑 및 포이즈닝 공격을 수행합니다.                                                                                                                                                                                                                                                                                                     |
| [C# Inveigh (InveighZero)](https://github.com/Kevin-Robertson/Inveigh/tree/master/Inveigh)                                                    | 사용자 이름 및 비밀번호 해시와 같이 캡처된 데이터와 상호작용하기 위한 반대화형 콘솔을 갖춘 Inveigh의 C# 버전입니다.                                                                                                                                                                                                                                                                                            |
| [rpcinfo](https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/rpcinfo)                                           | rpcinfo 유틸리티는 RPC 프로그램의 상태를 쿼리하거나 원격 호스트에서 사용 가능한 RPC 서비스 목록을 열거하는 데 사용됩니다. "-p" 옵션은 대상 호스트를 지정하는 데 사용됩니다. 예를 들어 "rpcinfo -p 10.0.0.1" 명령은 원격 호스트에서 사용 가능한 모든 RPC 서비스 목록과 해당 프로그램 번호, 버전 번호, 프로토콜을 반환합니다. 이 명령은 충분한 권한으로 실행해야 합니다.                                                                                                                                |
| [rpcclient](https://www.samba.org/samba/docs/current/man-html/rpcclient.1.html)                                                               | Linux 배포판의 Samba 제품군의 일부로, 원격 RPC 서비스를 통해 다양한 Active Directory 열거 작업을 수행하는 데 사용할 수 있습니다.                                                                                                                                                                                                                                                                          |
| [CrackMapExec (CME)](https://github.com/byt3bl33d3r/CrackMapExec)                                                                             | CME는 열거, 공격 및 사후 익스플로이테이션 툴킷으로, 수집한 데이터를 열거하고 공격하는 데 큰 도움이 될 수 있습니다. CME는 "live off the land" 하고 SMB, WMI, WinRM, MSSQL과 같은 내장 AD 기능과 프로토콜을 남용하려고 합니다.                                                                                                                                                                                                            |
| [Rubeus](https://github.com/GhostPack/Rubeus)                                                                                                 | Rubeus는 Kerberos 남용을 위해 만들어진 C# 도구입니다.                                                                                                                                                                                                                                                                                                                       |
| [GetUserSPNs.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/GetUserSPNs.py)                                              | 일반 사용자와 관련된 서비스 주체 이름을 찾는 데 중점을 둔 또 다른 Impacket 모듈입니다.                                                                                                                                                                                                                                                                                                            |
| [Hashcat](https://hashcat.net/hashcat/)                                                                                                       | 뛰어난 해시 해독 및 비밀번호 복구 도구입니다.                                                                                                                                                                                                                                                                                                                                        |
| [enum4linux](https://github.com/CiscoCXSecurity/enum4linux)                                                                                   | Windows 및 Samba 시스템의 정보를 열거하는 도구입니다.                                                                                                                                                                                                                                                                                                                              |
| [enum4linux-ng](https://github.com/cddmp/enum4linux-ng)                                                                                       | 원래 Enum4linux 도구를 약간 다르게 동작하도록 재작업한 도구입니다.                                                                                                                                                                                                                                                                                                                        |
| [ldapsearch](https://linux.die.net/man/1/ldapsearch)                                                                                          | LDAP 프로토콜과 상호작용하기 위한 내장 인터페이스.                                                                                                                                                                                                                                                                                                                                    |
| [windapsearch](https://github.com/ropnop/windapsearch)                                                                                        | LDAP 쿼리를 사용하여 AD 사용자, 그룹 및 컴퓨터를 열거하는 데 사용되는 Python 스크립트입니다. 사용자 지정 LDAP 쿼리를 자동화하는 데 유용합니다.                                                                                                                                                                                                                                                                        |
| [DomainPasswordSpray.ps1](https://github.com/dafthack/DomainPasswordSpray)                                                                    | DomainPasswordSpray는 도메인 사용자를 대상으로 비밀번호 스프레이 공격을 수행하기 위해 PowerShell로 작성된 도구입니다.                                                                                                                                                                                                                                                                                   |
| [LAPSToolkit](https://github.com/leoloobeek/LAPSToolkit)                                                                                      | 이 툴킷에는 PowerShell로 작성된 기능이 포함되어 있으며, PowerView를 활용하여 Microsoft의 로컬 관리자 암호 솔루션(LAPS)이 배포된 Active Directory 환경을 감사하고 공격합니다.                                                                                                                                                                                                                                         |
| [smbmap](https://github.com/ShawnDEvans/smbmap)                                                                                               | 도메인 전체에 걸친 SMB 공유 열거.                                                                                                                                                                                                                                                                                                                                             |
| [psexec.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/psexec.py)                                                        | Impacket 툴킷의 일부로, 반대화형 셸 형태로 Psexec과 유사한 기능을 제공합니다.                                                                                                                                                                                                                                                                                                               |
| [wmiexec.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/wmiexec.py)                                                      | Impacket 툴킷의 일부로, WMI를 통한 명령 실행 기능을 제공합니다.                                                                                                                                                                                                                                                                                                                        |
| [Snaffler](https://github.com/SnaffCon/Snaffler)                                                                                              | 액세스 가능한 파일 공유가 있는 컴퓨터의 Active Directory에서 정보(자격 증명 등)를 찾는 데 유용합니다.                                                                                                                                                                                                                                                                                                |
| [smbserver.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/smbserver.py)                                                  | Windows 호스트와의 상호작용을 위한 간단한 SMB 서버 실행. 네트워크 내에서 파일을 전송하는 쉬운 방법.                                                                                                                                                                                                                                                                                                    |
| [setspn.exe](https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/cc731241(v=ws.11))             | Active Directory 서비스 계정에 대한 SPN(서비스 사용자 이름) 디렉터리 속성을 추가, 읽기, 수정 및 삭제합니다.                                                                                                                                                                                                                                                                                          |
| [Mimikatz](https://github.com/ParrotSec/mimikatz)                                                                                             | 많은 기능을 수행합니다. 특히, pass-the-hash 공격, 평문 암호 추출, 호스트의 메모리에서 Kerberos 티켓 추출.                                                                                                                                                                                                                                                                                          |
| [secretsdump.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/secretsdump.py)                                              | 호스트에서 SAM 및 LSA 비밀을 원격으로 덤프합니다.                                                                                                                                                                                                                                                                                                                                   |
| [evil-winrm](https://github.com/Hackplayers/evil-winrm)                                                                                       | WinRM 프로토콜을 통해 호스트에서 대화형 셸을 제공합니다.                                                                                                                                                                                                                                                                                                                                |
| [mssqlclient.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/mssqlclient.py)                                              | Impacket 툴킷의 일부로, MSSQL 데이터베이스와 상호작용할 수 있는 기능을 제공합니다.                                                                                                                                                                                                                                                                                                             |
| [noPac.py](https://github.com/Ridter/noPac)                                                                                                   | CVE-2021-42278 및 CVE-2021-42287을 이용한 악용 콤보를 통해 표준 도메인 사용자로 DA를 가장합니다.                                                                                                                                                                                                                                                                                             |
| [rpcdump.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/rpcdump.py)                                                      | Impacket 툴셋의 일부, RPC 엔드포인트 매퍼입니다.                                                                                                                                                                                                                                                                                                                                 |
| [CVE-2021-1675.py](https://github.com/cube0x0/CVE-2021-1675/blob/main/CVE-2021-1675.py)                                                       | 파이썬으로 만든 Printnightmare PoC.                                                                                                                                                                                                                                                                                                                                      |
| [ntlmrelayx.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/ntlmrelayx.py)                                                | Impacket 툴셋의 일부로 SMB 릴레이 공격을 수행합니다.                                                                                                                                                                                                                                                                                                                               |
| [PetitPotam.py](https://github.com/topotam/PetitPotam)                                                                                        | CVE-2021-36942에 대한 PoC 도구로, MS-EFSRPC EfsRpcOpenFileRaw 또는 기타 함수를 통해 Windows 호스트가 다른 컴퓨터에 인증하도록 강요합니다.                                                                                                                                                                                                                                                            |
| [gettgtpkinit.py](https://github.com/dirkjanm/PKINITtools/blob/master/gettgtpkinit.py)                                                        | 인증서와 TGT를 조작하는 도구입니다.                                                                                                                                                                                                                                                                                                                                             |
| [getnthash.py](https://github.com/dirkjanm/PKINITtools/blob/master/getnthash.py)                                                              | 이 도구는 기존 TGT를 사용하여 U2U를 사용하는 현재 사용자에 대한 PAC를 요청합니다.                                                                                                                                                                                                                                                                                                               |
| [adidnsdump](https://github.com/dirkjanm/adidnsdump)                                                                                          | 도메인에서 DNS 레코드를 열거하고 덤프하는 도구입니다. DNS Zone 전송을 수행하는 것과 유사합니다.                                                                                                                                                                                                                                                                                                       |
| [gpp-decrypt](https://github.com/t0thkr1s/gpp-decrypt)                                                                                        | 그룹 정책 기본 설정 파일에서 사용자 이름과 비밀번호를 추출합니다.                                                                                                                                                                                                                                                                                                                             |
| [GetNPUsers.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/GetNPUsers.py)                                                | Impacket 툴킷의 일부입니다. 'Kerberos 사전 인증 필요 없음'이 설정된 사용자의 AS-REP 해시를 나열하고 얻기 위해 ASREPRoasting 공격을 수행하는 데 사용됩니다. 이러한 해시는 오프라인 암호 해독을 시도하는 Hashcat과 같은 도구에 입력됩니다.                                                                                                                                                                                                        |
| [lookupsid.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/lookupsid.py)                                                  | SID 무차별 대입 도구.                                                                                                                                                                                                                                                                                                                                                    |
| [ticketer.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/ticketer.py)                                                    | TGT/TGS 티켓을 만들고 사용자 정의하기 위한 도구입니다. 골든 티켓 생성, 자식에서 부모로의 신뢰 공격 ​​등에 사용할 수 있습니다.                                                                                                                                                                                                                                                                                     |
| [raiseChild.py](https://github.com/SecureAuthCorp/impacket/blob/master/examples/raiseChild.py)                                                | Impacket 툴킷의 일부이며, 자식 도메인에서 부모 도메인으로의 자동 권한 상승을 위한 도구입니다.                                                                                                                                                                                                                                                                                                         |
| [Active Directory Explorer](https://docs.microsoft.com/en-us/sysinternals/downloads/adexplorer)                                               | Active Directory Explorer(AD Explorer)는 AD 뷰어이자 편집기입니다. AD 데이터베이스를 탐색하고 개체 속성과 특성을 보는 데 사용할 수 있습니다. 또한 오프라인 분석을 위해 AD 데이터베이스의 스냅샷을 저장하는 데 사용할 수도 있습니다. AD 스냅샷이 로드되면 데이터베이스의 라이브 버전으로 탐색할 수 있습니다. 또한 두 개의 AD 데이터베이스 스냅샷을 비교하여 개체, 특성 및 보안 권한의 변경 사항을 확인하는 데 사용할 수도 있습니다.                                                                                           |
| [PingCastle](https://www.pingcastle.com/documentation/)                                                                                       | AD 보안에 맞춰 적용된 [CMMI](https://en.wikipedia.org/wiki/Capability_Maturity_Model_Integration) 를 기반으로 위험 평가 및 성숙도 프레임워크를 기반으로 AD 환경의 보안 수준을 감사하는 데 사용됩니다 .                                                                                                                                                                                                             |
| [Group3r](https://github.com/Group3r/Group3r)                                                                                                 | Group3r은 AD 그룹 정책 개체(GPO)의 보안 오류 구성을 감사하고 찾는 데 유용합니다.                                                                                                                                                                                                                                                                                                             |
| [ADRecon](https://github.com/adrecon/ADRecon)                                                                                                 | 대상 AD 환경에서 다양한 데이터를 추출하는 데 사용되는 도구입니다. 데이터는 요약 보기 및 분석과 함께 Microsoft Excel 형식으로 출력하여 분석을 지원하고 환경의 전반적인 보안 상태를 그림으로 표현할 수 있습니다.                                                                                                                                                                                                                                    |
|                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                   |
